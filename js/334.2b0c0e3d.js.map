{"version":3,"file":"js/334.2b0c0e3d.js","mappings":"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","sources":["webpack://hexschool-project-frontend/./src/views/admin/AdminTouristSpots.vue","webpack://hexschool-project-frontend/./src/views/admin/AdminTouristSpots.vue?8b9b"],"sourcesContent":["<template>\n  <h2>景點列表</h2>\n  <table class=\"table table-striped\">\n    <thead>\n      <tr>\n        <th scope=\"col\">景點名稱</th>\n        <th scope=\"col\">描述</th>\n        <!-- <th scope=\"col\">圖片網址</th> -->\n        <th scope=\"col\"></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"spot in touristSpots\" :key=\"spot.id\">\n        <td width=\"100px\">{{ spot.position }}</td>\n        <td>{{ spot.description }}</td>\n        <!-- <td>{{ spot.img_url }}</td> -->\n        <td class=\"text-end\" width=\"120px\">\n          <button type=\"button\" class=\"btn btn-success btn-sm me-2\" @click=\"editTouristSpot('showData', spot.id)\">編輯</button>\n          <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"deleteTouristSpot(spot.id)\">刪除</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class=\"w-50 my-5\">\n    <h3>新增編輯區塊</h3>\n    <div class=\"mb-3\">\n      <label for=\"title\" class=\"form-label w-100\">\n        景點名稱\n        <input type=\"text\" class=\"form-control\" v-model=\"addTouristSpot.position\" />\n      </label>\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"img\" class=\"form-label w-100\">\n        圖片網址\n        <input type=\"text\" class=\"form-control\" v-model=\"addTouristSpot.img_url\" />\n      </label>\n    </div>\n    <div>\n      <label for=\"description\" class=\"w-100\">\n        景點描述\n        <textarea name=\"description\" id=\"description\" class=\"form-control\" style=\"height: 150px\" v-model=\"addTouristSpot.description\"></textarea>\n      </label>\n    </div>\n\n    <div>\n      <button type=\"button\" class=\"btn btn-success\" v-if=\"addOrEditStatus\" @click=\"addSingleTouristSpot\">新增</button>\n      <button type=\"button\" class=\"btn btn-success\" v-else @click=\"editTouristSpot('revise')\">更新內容</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      touristSpots: [],\n      addOrEditStatus: true,\n      addTouristSpot: {\n        position: '',\n        description: '',\n        img_url: '',\n      },\n      tempSpot: {},\n    };\n  },\n  methods: {\n    getTouristSpots() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/tourist-spots`)\n        .then((res) => {\n          this.touristSpots = res.data.spots;\n          // console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    addSingleTouristSpot() {\n      const url = `${process.env.VUE_APP_API}/api/add-tourist-spot`;\n      this.$http\n        .post(url, this.addTouristSpot)\n        .then((res) => {\n          this.getTouristSpots();\n          this.addTouristSpot = {};\n          alert('成功新增景點');\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    editTouristSpot(state, id) {\n      this.addOrEditStatus = false;\n\n      const urlSingleSpot = `${process.env.VUE_APP_API}/api/tourist-spot/${id}`;\n\n      if (state === 'showData') {\n        this.$http\n          .get(urlSingleSpot)\n          .then((res) => {\n            this.tempSpot = res.data.spot;\n            this.addTouristSpot = this.tempSpot;\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      } else if (state === 'revise') {\n        const spotId = this.addTouristSpot.id;\n        console.log(state, spotId);\n        const url = `${process.env.VUE_APP_API}/api/revise-tourist-spot/${spotId}`;\n\n        this.$http\n          .put(url, this.addTouristSpot)\n          .then((res) => {\n            this.addTouristSpot = {};\n            this.addOrEditStatus = true;\n            this.getTouristSpots();\n            alert('成功更新景點資料');\n            console.log(res);\n            // alert(`${res.data.success.Success}`);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n    deleteTouristSpot(id) {\n      const url = `${process.env.VUE_APP_API}/api/delete-tourist-spot/${id}`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          console.log(res);\n          alert('成功刪除');\n          this.getTouristSpots();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    this.getTouristSpots();\n    // this.addOrEditStatus = true;\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./AdminTouristSpots.vue?vue&type=template&id=5b8d59d9\"\nimport script from \"./AdminTouristSpots.vue?vue&type=script&lang=js\"\nexport * from \"./AdminTouristSpots.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\eva090029\\\\practice\\\\separate\\\\hexschool\\\\tourist-spots-frontend-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","scope","width","for","_hoisted_1","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","$data","spot","key","id","_hoisted_4","position","description","_hoisted_5","type","onClick","$options","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","img_url","_hoisted_14","name","style","data","touristSpots","addOrEditStatus","addTouristSpot","tempSpot","methods","getTouristSpots","this","$http","get","then","res","spots","catch","err","console","log","addSingleTouristSpot","url","post","alert","editTouristSpot","state","urlSingleSpot","spotId","put","deleteTouristSpot","delete","mounted","__exports__","render"],"sourceRoot":""}